#INCLUDE <TV_PICKIT2_SHIFT_1.C>
#INCLUDE <TV_PICKIT2_SHIFT_PCF8591_I2C.C>

UNSIGNED INT8 I,DAC;
UNSIGNED INT16 ADC_LM35;//, ADC_LM35B, ADC_CDS

VOID MAIN ()
{
   SET_UP_PORT_IC_CHOT();
   DAC=0;
   PCF8591_XUAT_DAC(250);
   WHILE(TRUE)
   {
      DELAY_US(100);
      ADC_LM35=0;
      FOR(I=0;I<100;I++)
      {
         PCF8591_CHONKENH(PCF8591_CHANNEL_0);   //LM35
         DELAY_US(20);
         ADC_LM35=ADC_LM35 + PCF8591_DOC_ADC();
      }
      ADC_LM35= ADC_LM35/100;
      XUAT_4LED_7DOAN_GIAIMA_XOA_SO0(ADC_LM35);
   }
}
